<section class="projects-section">
  <div class="container">

    <!-- Header -->
    <div class="section-header">
      <h1 class="section-title">
        <span class="title-bracket">&lt;</span>
        <span class="text-gradient">Mis Proyectos</span>
        <span class="title-bracket">/&gt;</span>
      </h1>
      <p class="section-subtitle">
        <span class="slash">//</span>
        Portfolio de desarrollo
      </p>
      <div class="title-line"></div>
    </div>

    <!-- View Switcher -->
    <div class="view-switcher">
      <div class="switcher-container">
        <div class="switcher-background"
             [class.right]="currentView === 'side'">
        </div>

        <button
          class="switcher-option"
          [class.active]="currentView === 'main'"
          (click)="switchView('main')">
          <span class="option-icon">
            <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M12 2L2 7l10 5 10-5-10-5z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              <path d="M2 17l10 5 10-5" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              <path d="M2 12l10 5 10-5" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </span>
          <span class="option-text">Main Projects</span>
          <div class="option-glow"></div>
        </button>

        <button
          class="switcher-option"
          [class.active]="currentView === 'side'"
          (click)="switchView('side')">
          <span class="option-icon">
            <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M13 2L3 14h9l-1 8 10-12h-9l1-8z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </span>
          <span class="option-text">Side Projects</span>
          <div class="option-glow"></div>
        </button>

        <!-- Corner decorations -->
        <span class="corner corner-tl"></span>
        <span class="corner corner-tr"></span>
        <span class="corner corner-bl"></span>
        <span class="corner corner-br"></span>
      </div>
    </div>

    <!-- Content Area -->
    <div class="content-area">

      <!-- Main Projects -->
      <div class="projects-grid" *ngIf="currentView === 'main'">
        <div
          *ngFor="let project of mainProjects; let i = index"
          class="project-card"
          [style.animation-delay]="(i * 0.1) + 's'"
          (click)="openProjectDetail(project)">

          <div class="card-inner">
            <!-- Private Badge -->
            <div class="private-badge" *ngIf="project.isPrivate">
              <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <rect x="3" y="11" width="18" height="11" rx="2" stroke="currentColor" stroke-width="2"/>
                <path d="M7 11V7a5 5 0 0 1 10 0v4" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
              </svg>
              <span>Privado</span>
            </div>

            <!-- Project Icon -->
            <div class="project-icon">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path [attr.d]="getIconPath(project.icon)"/>
              </svg>
              <div class="icon-glow"></div>
            </div>

            <!-- Project Name -->
            <h3 class="project-name">{{ project.name }}</h3>

            <!-- Short Description -->
            <p class="project-description">{{ project.shortDescription }}</p>

            <!-- Technologies -->
            <div class="tech-tags">
              <span
                *ngFor="let tech of project.technologies.slice(0, 4)"
                class="tech-tag"
                [class]="'tech-' + tech.color">
                {{ tech.name }}
              </span>
              <span class="tech-more" *ngIf="project.technologies.length > 4">
                +{{ project.technologies.length - 4 }}
              </span>
            </div>

            <!-- View Details Button -->
            <div class="card-action">
              <span class="action-text">Ver detalles</span>
              <svg class="action-arrow" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M5 12h14M12 5l7 7-7 7" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
            </div>

            <!-- Card Decorations -->
            <div class="card-corner corner-tl"></div>
            <div class="card-corner corner-tr"></div>
            <div class="card-corner corner-bl"></div>
            <div class="card-corner corner-br"></div>
          </div>
        </div>
      </div>

      <!-- Side Projects -->
      <div class="projects-grid" *ngIf="currentView === 'side'">
        <div
          *ngFor="let project of sideProjects; let i = index"
          class="project-card"
          [style.animation-delay]="(i * 0.1) + 's'"
          (click)="openProjectDetail(project)">

          <div class="card-inner">
            <!-- Development Time Badge -->
            <div class="time-badge" *ngIf="project.developmentTime">
              <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2"/>
                <polyline points="12 6 12 12 16 14" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
              <span>{{ project.developmentTime }}</span>
            </div>

            <!-- Project Icon -->
            <div class="project-icon">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path [attr.d]="getIconPath(project.icon)"/>
              </svg>
              <div class="icon-glow"></div>
            </div>

            <!-- Project Name -->
            <h3 class="project-name">{{ project.name }}</h3>

            <!-- Short Description -->
            <p class="project-description">{{ project.shortDescription }}</p>

            <!-- Technologies -->
            <div class="tech-tags">
              <span
                *ngFor="let tech of project.technologies.slice(0, 3)"
                class="tech-tag"
                [class]="'tech-' + tech.color">
                {{ tech.name }}
              </span>
              <span class="tech-more" *ngIf="project.technologies.length > 3">
                +{{ project.technologies.length - 3 }}
              </span>
            </div>

            <!-- View Details Button -->
            <div class="card-action">
              <span class="action-text">Ver detalles</span>
              <svg class="action-arrow" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M5 12h14M12 5l7 7-7 7" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
            </div>

            <!-- Card Decorations -->
            <div class="card-corner corner-tl"></div>
            <div class="card-corner corner-tr"></div>
            <div class="card-corner corner-bl"></div>
            <div class="card-corner corner-br"></div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
